---
title: "Incarceration Within the Justice System"
author: "Jonathan To"
date: '2022-11-18'
output: html_document
---

```{r echo=FALSE, eval=TRUE, message=FALSE}
source("../source/a4-helpers.R")
source("../source/analysis.R")

```

#### Abstract

My main concern that needs to be addressed relates to the biggest contributor of inequality within the justice system ranging from county to state data. This concern is very important since it will give everyone a better understanding on what is causing the inequality inside county and state jails and prisons, hopefully leading to a solution. With this solution, incarcerated individuals will be free of the inequalities they have to face. To address this concern, I plan on searching through the data sets provided and finding the patterns causing this awful problem.

#### Introduction

This report was created to expose the patterns of inequality found within the jails and prisons all over the United States. When looking at the provided data set, there are many problems underlying in the race of the inmates. The number of people of color can be found to be much higher than those that aren't. This raises a concern on biases because of an individual's skin color. This concern directly impacts all races, in or out of the prison system. This also directly had to do with the government and the police force. Indirectly, this concern impacts society revolving around areas where majority of their population are identifiable as Black, Asian, Latinx, etc. To get a better understanding of this problem, I will be answering specific questions such as, "the number of males incarcerated in the year 2000", "in that same year, how many of them were black?" and finally, looking in 2015, 'Has the number of incarcerated black individuals gone down?". With this data, we will have a better understanding of how racist the United States prison system really is.

#### Data Summary

Ever since I was a kid, I always knew the world was not fair. Whether it was because my parents wouldn't get a specific toy for me or because of how people were treated based off their skin tone, it was just something I have always known. There is racism and inequality everywhere and when looking at the prison system, it is prevalent. For those reason, I decided to base my values around the number of males inmates within jails, the number of black individuals in jail and the number of white individuals in jail. In addition, to make these values easier to grasp, each value is based off of data from the year 2000. With the variables collected from these values, it will be easier to see the ratio between the different gender in jail, which will spur conversation relating to why the male population is much higher than females. With the data collected from the white and black population within jails, we will be able to see the ratio between the two and infer different reasons why this ratio might be. With these values it'll be easier to understand the patterns of inequality within incarceration.

*All the very best with your work!*

#### Growth of the U.S. Prison Population

```{r echo=FALSE, eval=TRUE, message=FALSE}
get_year_jail_pop <- function() {
  # TODO: Implement this function 
  total_population <- df %>%
    group_by(year) %>%
    filter(total_jail_pop != "NA") %>%
    summarise(total_jail_pop =sum(total_jail_pop))
  return(total_population)   
}

# This function ... <todo:  update comment>
plot_jail_pop_for_us <- function()  {
  ggplot(get_year_jail_pop(), aes(x = year, y = total_jail_pop)) +
    geom_col(position = "dodge") +
    labs(title = "U.S. Jail Population Distribution (1970-2018)",
         x = "Year",
         y = "Total Inmate Population")
  
  # TODO: Implement this function 
} 
plot_jail_pop_for_us()
```

##### Caption

Figure 1. Representation of the changing Jail Population in the United States between the years 1970 to 2018.

##### Summary

When looking at figure 1. it is quite obvious to see that there has been an upward trend with the number of inmates starting in the 1980s. Before then, the population stayed nearly the same for the decade. However, in recent years there does seem to be a decrease starting in 2005. Many people such as myself are wondering, "Why did the population start to decrease in 2005?".

#### Growth of Jail Population by State

```{r echo=FALSE, eval=TRUE, message=FALSE}
get_jail_pop_by_states <- function(states) {
  visualization_df <- df %>%
    filter(state %in% states) %>%
    group_by(year, state) %>%
    summarise(total_jail_population = sum(total_jail_pop, na.rm = TRUE))
  return(visualization_df)
}

get_jail_pop_by_states(c("AL", "MD", "NY", "SD", "TN", "WA", "CA"))

plot_jail_pop_by_states <- function(states) {
  plot_df <- get_jail_pop_by_states(states)
  
  plot <- ggplot(data = plot_df) +
    geom_line(aes(x = year, y = total_jail_population, color = state)) +
    labs(
      title = "Different State Jail Population (1970-2018)") +
    ylab("Total Jail Population") + 
    xlab("Years") +
  scale_y_continuous(labels = scales::comma)
return(plot)
}
options(dplyr.summarise.inform = FALSE)
plot_jail_pop_by_states(c("AL", "MD", "NY", "SD", "TN", "WA", "CA"))
```

##### Caption

Figure 2. Visualization of an array of State Jail Population between the years 1970 to 2018.

##### Summary

With the help of Figure 2. we can answer the question, "Does total population affect total jail population in different States?" Through figure 2. I would say that yes, it does matter how big your state population is. The reason why I chose a state such as CA to be represented in this plot was because of its massive population total. Then I picked SD for comparison with a smaller populated state. For the five other states, I decided to pick states with a population size in between California and South Dakota. When looking at the figure 2. It is quite obvious that population size does in fact coincide with the Jail population total.

#### Comparison of Patterns of Inequality

```{r echo=FALSE, eval=TRUE, message=FALSE}
region_plus_total_white_jail_pop <- function() {
  dv <- df %>%
    drop_na() %>%
    group_by(region) %>%
    summarize(white_jail_population = sum(white_jail_pop)) %>%
    select(region, white_jail_population)
  return(dv)
}

region_plus_total_white_jail_pop()

region_plus_total_black_jail_pop <- function() {
  dv <- df %>%
    drop_na() %>%
    group_by(region) %>%
    summarize(black_jail_population = sum(black_jail_pop)) %>%
    select(region, black_jail_population)
  return(dv)
}

region_plus_total_black_jail_pop()

region_black_and_white_data <- left_join(region_plus_total_black_jail_pop(), region_plus_total_white_jail_pop())

white_black_data <- region_black_and_white_data %>%
  select(region, white_jail_population, black_jail_population) %>%
  gather(key = race, value = population, -region)

#code for actual plot

white_black_plot <- function() {
  ggplot(white_black_data) +
    geom_col(
      mapping = aes(x = population, y = region, fill = race), position = "dodge"
    ) +
    labs(
      title = "White vs Black Jail Population by Region") +
    xlab("Population") +
    ylab("Region") +
    guides(fill = guide_legend(title = "Race")) +
    scale_fill_hue(labels = c("White Population", "Black Population")) +
    scale_fill_manual(values =c("FFFFFF", "CC99CC")) +
  }
  
white_black_plot()
```
